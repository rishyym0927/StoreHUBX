# ====================================
# StoreHUBX Backend Environment Variables
# ====================================

# Server Configuration
# Port the API server will listen on
PORT=8080

# ====================================
# MongoDB Configuration
# ====================================
# MongoDB connection string
# Format: mongodb://[username:password@]host:port/database
MONGO_URI=mongodb://localhost:27017/storehubx

# Database name to use
MONGO_DB=storehubx

# ====================================
# JWT Configuration
# ====================================
# Secret key for signing JWT tokens
# IMPORTANT: Use a strong, random string in production!
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# ====================================
# GitHub OAuth Configuration
# ====================================
# To set up GitHub OAuth:
# 1. Go to https://github.com/settings/developers
# 2. Click "New OAuth App"
# 3. Fill in the form:
#    - Application name: StoreHUBX (or your preferred name)
#    - Homepage URL: http://localhost:3000 (or your frontend URL)
#    - Authorization callback URL: http://localhost:8080/auth/github/callback
# 4. Copy the Client ID and Client Secret below

GITHUB_CLIENT_ID=your_github_client_id_here
GITHUB_CLIENT_SECRET=your_github_client_secret_here
GITHUB_REDIRECT_URL=http://localhost:8080/auth/github/callback

# ====================================
# S3/MinIO Configuration
# ====================================
# S3-compatible storage endpoint
# For local MinIO: http://localhost:9000
# For AWS S3: s3.amazonaws.com
# For Cloudflare R2: https://your-account-id.r2.cloudflarestorage.com
S3_ENDPOINT=http://localhost:9000

# S3 Access Credentials
# For MinIO defaults: minioadmin/minioadmin
# For AWS: Use your AWS access key and secret
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin

# Bucket name where component files will be stored
S3_BUCKET=storehubx

# Public base URL for accessing uploaded files
# This URL is used to construct preview URLs for components
# For local MinIO: http://localhost:9000/storehubx
# For production: https://cdn.yourdomain.com or your S3 public URL
S3_PUBLIC_BASE_URL=http://localhost:9000/storehubx

# ====================================
# Worker Configuration
# ====================================
# Temporary directory for build operations
# The worker will clone repos and build components here
BUILD_TMP_DIR=/tmp/storehubx-builds

# Poll interval for checking new build jobs (in milliseconds)
# Default: 1000 (1 second)
# Lower values = faster job pickup but more database queries
JOB_POLL_INTERVAL_MS=1000

# ====================================
# Optional: Advanced Configuration
# ====================================

# Enable debug logging (uncomment to enable)
# DEBUG=true

# Maximum build timeout in minutes (default: 10)
# BUILD_TIMEOUT_MINUTES=10

# Maximum concurrent builds (default: 1)
# MAX_CONCURRENT_BUILDS=1
